<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>📝 OBSテキスト表示ツール - 編集画面</title>
  
  <!-- SEO・OGP -->
  <meta name="description" content="OBSブラウザソース用テキストをリアルタイム編集">
  <meta property="og:title" content="OBSテキスト表示ツール">
  <meta property="og:description" content="配信中にテキストをリアルタイム更新">
  <meta property="og:type" content="website">
  
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Kosugi+Maru&family=M+PLUS+Rounded+1c:wght@400;700;900&family=Noto+Sans+JP:wght@400;700;900&family=Sawarabi+Gothic&family=Zen+Maru+Gothic:wght@400;700;900&display=swap" rel="stylesheet">
  
  <!-- CSS読み込み -->
  <link rel="stylesheet" href="/src/style.css">
</head>
<body>
  <div class="app">
    <header class="header">
      <h1 class="header-title">📝 OBSテキスト表示ツール</h1>
      <p class="header-subtitle">配信中のテキストをリアルタイム更新</p>
      <div id="connection-status" class="connection-status connected">接続中</div>
    </header>
    
    <main class="main">
      <div class="container">
        <!-- 編集セクション -->
        <section class="input-section">
          <div class="form-card">
            <h2 class="card-title">✏️ テキスト編集</h2>
            
            <!-- テキスト入力 -->
            <div class="form-group">
              <label for="text-input" class="form-label">
                表示テキスト <span class="required">*</span>
              </label>
              <textarea 
                id="text-input" 
                class="form-textarea" 
                placeholder="ここにテキストを入力してください..."
                rows="5"
                maxlength="1000"
              ></textarea>
              <small class="form-hint">💡 1000文字まで入力可能です</small>
            </div>
            
            <!-- セッションID表示 -->
            <div class="form-group">
              <label class="form-label">🔑 セッションID</label>
              <div class="session-id-display">
                <code id="session-id">読み込み中...</code>
              </div>
            </div>
          </div>
          
          <!-- スタイル設定 -->
          <div class="form-card">
            <h2 class="card-title">🎨 スタイル設定</h2>
            
            <!-- フォント選択 -->
            <div class="form-group">
              <label for="font-select" class="form-label">フォント</label>
              <select id="font-select" class="form-select">
                <option value="Noto Sans JP">Noto Sans JP</option>
                <option value="M PLUS Rounded 1c">M PLUS Rounded 1c</option>
                <option value="Kosugi Maru">Kosugi Maru</option>
                <option value="Sawarabi Gothic">Sawarabi Gothic</option>
                <option value="Zen Maru Gothic">Zen Maru Gothic</option>
              </select>
            </div>
            
            <!-- 文字色 -->
            <div class="form-group">
              <label for="color-picker" class="form-label">文字色</label>
              <div class="color-picker-group">
                <input type="color" id="color-picker" class="color-picker" value="#ffffff">
                <input type="text" id="color-text" class="form-input color-text-input" value="#ffffff" maxlength="7" pattern="^#[0-9A-Fa-f]{6}$">
              </div>
            </div>
            
            <!-- 文字太さ -->
            <div class="form-group">
              <label for="weight-select" class="form-label">文字太さ</label>
              <select id="weight-select" class="form-select">
                <option value="400">通常 (400)</option>
                <option value="700">太字 (700)</option>
                <option value="900">極太 (900)</option>
              </select>
            </div>
            
            <!-- 文字サイズ -->
            <div class="form-group">
              <label for="size-slider" class="form-label">
                文字サイズ: <span id="size-value">48</span>px
              </label>
              <input 
                type="range" 
                id="size-slider" 
                class="form-range" 
                min="12" 
                max="200" 
                step="1" 
                value="48"
              >
            </div>
          </div>
        </section>
        
        <!-- プレビューセクション -->
        <section class="preview-section">
          <div class="form-card">
            <h2 class="card-title">👁️ プレビュー</h2>
            <div class="preview-container">
              <div id="preview" class="preview-text">
                プレビュー表示
              </div>
            </div>
          </div>
          
          <!-- OBS URL表示 -->
          <div class="form-card">
            <h2 class="card-title">🎥 OBS設定</h2>
            <div class="form-group">
              <label for="display-url" class="form-label">OBS用URL</label>
              <div class="url-display-group">
                <input 
                  type="text" 
                  id="display-url" 
                  class="form-input" 
                  readonly
                  value="読み込み中..."
                >
                <button id="copy-url-btn" class="btn btn-secondary">
                  📋 コピー
                </button>
              </div>
              <small class="form-hint">💡 OBSのブラウザソースにこのURLを貼り付けてください</small>
            </div>
          </div>
        </section>
      </div>
    </main>
    
    <footer class="footer">
      <p>&copy; 2024 Obsidian Engine | <a href="https://github.com/obsidian-engine/vtube-tools">GitHub</a></p>
    </footer>
  </div>
  
  <script type="module" src="/src/main.js"></script>
</body>
</html>
